#!/usr/bin/env python3

from statistics import stdev, mean
import numpy as np
import numpy as np, scipy.stats as st

def f(a):
    print(st.t.interval(confidence=0.95, df=len(a)-1,
                        loc=np.mean(a),
                        scale=st.sem(a)))
    print(np.mean(a), np.std(a))

print("pb, 0 reads 10 samples")
f([81782.46666666666, 77009.36666666667, 83814.5, 72015.51666666666, 71636.95, 78895.78333333334, 71583.16666666667, 71657.75, 77237.56666666667, 70171.38333333333])
print("redis, 0 reads 10 samples")
f([68710.6, 66670.41666666667, 70048.23333333334, 69803.86666666667, 69066.01666666666, 69461.65, 69569.26666666666, 68944.35, 68767.83333333333, 69756.08333333333])

print("pb, 50 reads 10 samples")
f(2 * np.array([40922.25, 42785.933333333334, 40268.416666666664, 39981.183333333334, 42458.4, 41306.7, 41269.333333333336, 27764.75, 33979.26666666667, 39934.416666666664]))
print("redis, 50 reads 10 samples")
f(2 * np.array([42196.566666666666, 42717.96666666667, 42395.05, 42027.15, 42901.53333333333, 40980.48333333333, 43197.11666666667, 43070.53333333333, 41394.0, 42683.166666666664]))

print("pb, 95 reads 10 samples, 40 threads")
f(20 * np.array([4921.7, 4893.966666666666, 4436.883333333333, 5022.283333333334, 3775.2, 4873.866666666667, 4887.4, 4673.6, 4916.916666666667, 4659.566666666667]))
print("redis, 95 reads 10 samples, 1200 threads")
f(20 * np.array([5239.716666666666, 5239.516666666666, 5250.033333333334, 5205.433333333333, 5227.033333333334, 5217.85, 5262.271186440678, 5142.85, 5177.8, 5248.383333333333]))
# print("pb, 95 reads 10 samples, 600 threads")
# f(20 * np.array([1888.0833333333333, 2007.0333333333333, 1797.0, 2453.9, 2716.633333333333, 1793.8333333333333, 2041.7166666666667, 2225.5333333333333, 2356.7, 1799.9833333333333]))
